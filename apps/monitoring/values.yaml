alertmanager:
  enabled: false

# k3s hat diese Komponenten nicht als separate Pods
kubeControllerManager:
  enabled: false
kubeEtcd:
  enabled: false
kubeProxy:
  enabled: false
kubeScheduler:
  enabled: false

grafana:
  admin:
    existingSecret: grafana-secrets
    userKey: admin-user
    passwordKey: admin-password
  assertNoLeakedSecrets: false
  envFromSecret: grafana-postgres-secret
  grafana.ini:
    auth.anonymous:
      enabled: true
      org_role: Viewer
    server:
      root_url: "%(protocol)s://%(domain)s/grafana"
      serve_from_sub_path: true
    database:
      type: postgres
      host: grafana-postgres.monitoring.svc.cluster.local:5432
      name: grafana
      user: grafana
      password: $__env{GF_DATABASE_PASSWORD}
      ssl_mode: disable
  sidecar:
    dashboards:
      enabled: true
      label: grafana_dashboard
      labelValue: "1"
      folder: /tmp/dashboards
      folderAnnotation: grafana_folder
  ingress:
    enabled: true
    ingressClassName: traefik
    hosts:
      - ""
    path: /grafana
  persistence:
    enabled: true
    size: 1Gi
    storageClassName: local-path
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi

kube-state-metrics:
  resources:
    requests:
      cpu: 10m
      memory: 32Mi
    limits:
      cpu: 100m
      memory: 128Mi

nodeExporter:
  resources:
    requests:
      cpu: 10m
      memory: 32Mi
    limits:
      cpu: 100m
      memory: 64Mi

prometheus:
  prometheusSpec:
    retention: 24h
    storageSpec: {}
    resources:
      requests:
        cpu: 200m
        memory: 512Mi
      limits:
        cpu: "1"
        memory: 2Gi
